<% /* views/person/form.ejs */ %>

<div class="row justify-content-center">
  <div class="col-md-6">
    <div class="card shadow-sm">
      <div class="card-body">
        <h2 class="card-title mb-4"><%= submitText %></h2>
        <form action="<%= formAction %>" method="<%= formMethod %>">
          <div class="mb-3">
            <label for="name" class="form-label">Name</label>
            <input
              type="text"
              class="form-control<%= errors && errors.name ? ' is-invalid' : '' %>"
              id="name"
              name="name"
              value="<%= person.name || '' %>"
              placeholder="Enter full name"
              required
            />
            <% if (errors && errors.name) { %>
              <div class="invalid-feedback"><%= errors.name.message %></div>
            <% } %>
          </div>

          <div class="mb-3">
            <label for="age" class="form-label">Age</label>
            <input
              type="number"
              class="form-control<%= errors && errors.age ? ' is-invalid' : '' %>"
              id="age"
              name="age"
              value="<%= person.age || '' %>"
              placeholder="Enter age"
              required
            />
            <% if (errors && errors.age) { %>
              <div class="invalid-feedback"><%= errors.age.message %></div>
            <% } %>
          </div>

          <div class="mb-3">
            <label for="gender" class="form-label">Gender</label>
            <select
              id="gender"
              name="gender"
              class="form-select<%= errors && errors.gender ? ' is-invalid' : '' %>"
              required
            >
              <option value="" disabled <%= !person.gender ? 'selected' : '' %>>
                Choose...
              </option>
              <option value="Male" <%= person.gender === 'Male' ? 'selected' : '' %>>
                Male
              </option>
              <option value="Female" <%= person.gender === 'Female' ? 'selected' : '' %>>
                Female
              </option>
              <option value="Other" <%= person.gender === 'Other' ? 'selected' : '' %>>
                Other
              </option>
            </select>
            <% if (errors && errors.gender) { %>
              <div class="invalid-feedback"><%= errors.gender.message %></div>
            <% } %>
          </div>

          <div class="mb-3">
            <label for="mobile" class="form-label">Mobile Number</label>
            <input
              type="text"
              class="form-control<%= errors && errors.mobile ? ' is-invalid' : '' %>"
              id="mobile"
              name="mobile"
              value="<%= person.mobile || '' %>"
              placeholder="10-digit mobile number"
              required
            />
            <% if (errors && errors.mobile) { %>
              <div class="invalid-feedback"><%= errors.mobile.message %></div>
            <% } %>
          </div>

          <div class="d-flex justify-content-between">
            <button type="submit" class="btn btn-primary"><%= submitText %></button>
            <a href="/person" class="btn btn-secondary">Cancel</a>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
